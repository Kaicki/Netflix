<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Nitiflix — Info (estilo Prime)</title>
<style>
  :root{
    --bg:#040404;
    --muted:#bdbdbd;
    --accent:#00a8ff;
    --card-w:160px;
    --card-h:240px;
  }
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    background:var(--bg);
    color:#fff;
    font-family: Inter, Arial, Helvetica, sans-serif;
    -webkit-font-smoothing:antialiased;
  }
  header{
    position:fixed;top:0;left:0;right:0;height:60px;
    display:flex;align-items:center;padding:0 20px;z-index:60;
    background:linear-gradient(180deg, rgba(4,4,4,0.85), transparent);
  }
  .logo{color:#E50914;font-weight:800;font-size:24px;letter-spacing:1px}

  .hero{
    width:100%;
    height:35vh;
    min-height:180px;
    background-size:cover;
    background-position:center;
    position:relative;
    display:flex;
    align-items:flex-end;
    padding:18px 28px;
    transition:background-image .5s ease;
  }
  .hero::after{
    content:"";
    position:absolute;left:0;right:0;bottom:0;height:45%;
    background:linear-gradient(to top, rgba(4,4,4,1), rgba(4,4,4,0));
  }
  .hero-content{position:relative;z-index:3;max-width:820px;display:flex;gap:14px;align-items:flex-start}
  .hero-thumb{width:120px;height:170px;object-fit:cover;border-radius:8px;flex-shrink:0}
  .hero-text h1{font-size:22px;margin-bottom:6px}
  .hero-text p{color:var(--muted);font-size:14px;line-height:1.4;margin-bottom:10px}
  .btn{border:0;padding:8px 12px;border-radius:999px;font-weight:700;cursor:pointer;font-size:13px}
  .btn-play{background:rgba(255,255,255,0.95);color:#000}
  .btn-info{background:rgba(109,109,110,0.7);color:#fff}

  main{padding:12px 0 40px;margin-top:60px}
  .section{margin-top:14px}
  .section h2{font-size:16px;margin-left:18px;margin-bottom:8px;color:#e6e6e6}

  .row{display:flex;gap:8px;padding:6px 18px 12px;overflow-x:auto;scroll-behavior:smooth}
  .row::-webkit-scrollbar{height:0;display:none}
  .card{width:var(--card-w);height:var(--card-h);border-radius:6px;overflow:hidden;flex:0 0 auto;cursor:pointer;transition:transform .18s,box-shadow .18s}
  .card img{width:100%;height:100%;object-fit:cover;display:block}
  .card:hover{transform:translateY(-4px) scale(1.04);box-shadow:0 20px 40px rgba(0,0,0,0.6);z-index:30}

  /* INFO MODAL */
  .info-modal {
    position: fixed;
    inset: 0;
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 10010;
    padding: 20px;
    background: linear-gradient(180deg, rgba(0,0,0,0.6), rgba(0,0,0,0.8));
    backdrop-filter: blur(6px);
  }

  .info-card {
    width: 92%;
    max-width: 920px;
    border-radius: 12px;
    overflow: hidden;
    background: linear-gradient(180deg, rgba(8,8,8,0.95), rgba(12,12,12,0.95));
    box-shadow: 0 30px 60px rgba(0,0,0,0.7);
    transform: translateY(24px) scale(0.98);
    opacity: 0;
    transition: transform .28s cubic-bezier(.2,.9,.2,1), opacity .22s;
    position: relative;
  }
  .info-card.show {
    transform: translateY(0) scale(1);
    opacity: 1;
  }

  .info-top {
    display: flex;
    gap: 18px;
    padding: 20px;
    align-items: flex-start;
  }

  .info-poster {
    width: 260px;
    height: 380px;
    border-radius: 10px;
    overflow: hidden;
    flex-shrink: 0;
    box-shadow: 0 20px 40px rgba(0,0,0,0.6);
    background-size: cover;
    background-position: center;
  }

  .info-body {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .info-title {
    font-size: 22px;
    font-weight: 800;
  }
  .info-meta {
    color: var(--muted);
    font-size: 14px;
  }
  .info-desc {
    color: var(--muted);
    line-height: 1.5;
    font-size: 15px;
    max-height: 7.2em;
    overflow: auto;
    padding-right: 6px;
  }

  .info-actions {
    display:flex;
    gap:10px;
    margin-top:6px;
    flex-wrap:wrap;
  }
  .action-play {
    background: var(--accent);
    color: #000;
    padding: 12px 18px;
    border-radius: 999px;
    font-weight:700;
    border: none;
    cursor: pointer;
  }
  .action-list {
    background: rgba(255,255,255,0.06);
    color: #fff;
    padding: 12px 16px;
    border-radius: 999px;
    border: 1px solid rgba(255,255,255,0.04);
    cursor: pointer;
  }

  .info-close {
    position: absolute;
    top: 12px;
    right: 12px;
    background: transparent;
    border: none;
    color: #fff;
    font-size: 22px;
    cursor: pointer;
  }

  .info-details {
    display:flex;
    gap:12px;
    padding:0 20px 20px 20px;
    align-items:center;
    color:var(--muted);
    font-size:14px;
  }

  @media (max-width:1000px){
    .info-poster{width:200px;height:300px}
    .info-top{padding:16px}
  }
  @media (max-width:600px){
    .info-card{width:96%;}
    .info-top{flex-direction:column;align-items:center}
    .info-poster{width:180px;height:260px}
    .info-body{text-align:center}
    .info-desc{max-height:none}
  }

  .player-modal{position:fixed;inset:0;background:rgba(0,0,0,0.92);display:none;align-items:center;justify-content:center;z-index:10020;padding:16px}
  .player-box{width:90%;max-width:1100px;background:#000;border-radius:8px;overflow:hidden;position:relative}
  .player-iframe{width:100%;height:70vh;border:0}
  .player-close{position:absolute;top:10px;right:10px;background:var(--accent);border:none;color:#fff;padding:8px 10px;border-radius:6px;cursor:pointer}
</style>
</head>
<body>
<header><div class="logo">NITIFLIX</div></header>

<section id="hero" class="hero">
  <div class="hero-content">
    <img id="heroThumb" class="hero-thumb" src="" alt="Poster">
    <div class="hero-text">
      <h1 id="heroTitle">Carregando...</h1>
      <p id="heroDesc"></p>
      <div class="hero-actions">
        <button id="heroPlay" class="btn btn-play" style="display:none">▶ Assistir</button>
        <button id="heroInfo" class="btn btn-info" style="display:none">ℹ Mais informações</button>
      </div>
    </div>
  </div>
</section>

<main id="mainContent" role="main" aria-live="polite"></main>

<!-- INFO MODAL -->
<div id="infoModal" class="info-modal" role="dialog" aria-modal="true">
  <div class="info-card" id="infoCard" role="document">
    <button class="info-close" id="infoClose">✖</button>
    <div class="info-top">
      <div class="info-poster" id="infoPoster" role="img" aria-label="Poster"></div>
      <div class="info-body">
        <div>
          <div class="info-title" id="infoTitle">Título</div>
          <div class="info-meta" id="infoCategory">Categoria • Ano</div>
        </div>
        <div class="info-desc" id="infoDesc">Descrição</div>
        <div class="info-actions">
          <button id="infoPlay" class="action-play">▶ Assistir</button>
          <button id="infoList" class="action-list">+ Minha Lista</button>
          <button id="infoMore" class="action-list">✓ Já vi</button>
        </div>
      </div>
    </div>
    <div class="info-details" id="infoDetails"></div>
  </div>
</div>

<!-- PLAYER MODAL -->
<div id="playerModal" class="player-modal" role="dialog" aria-modal="true">
  <div class="player-box">
    <button id="closePlayer" class="player-close">Fechar</button>
    <iframe id="playerFrame" class="player-iframe" allow="autoplay; fullscreen; picture-in-picture"></iframe>
  </div>
</div>

<script>
/* ================= DATA ================= */
const movies = [
  { title: "A ERA DO GELO", description:"Sid e Manny enfrentam aventuras congelantes.", poster:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSI81OGQpkjPFAh3ZuzOp4H7YPFTDy7JGDEC6rJDuy1Zw&s=10", backdrop:"", driveId:"1A2tHf77Gq0m9upcZhz_0C9LW0XaY5ZDM", category:"Animação", year:2002, relevance:80, duration:"1h 21m" },
  { title: "WALL-E", description:"Um robô descobre o amor e a esperança.", poster:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT2sD2MrgnTDuGRtMq4IWj_4xzxmLZMQunaiF2Q83h7AcIeRcMW8coHbW0&s=10", backdrop:"", driveId:"1MiqOg2g2MbKRwexsa1xxF4Uxa6Y9-saJ", category:"Animação", year:2008, relevance:95, duration:"1h 38m" },
  { title: "LOGAN", description:"O Wolverine enfrenta desafios finais e intensos.", poster:"https://static.wikia.nocookie.net/dublagem/images/d/d8/Logan_P%C3%B4ster.jpg/revision/latest?cb=20240502004624&path-prefix=pt-br", backdrop:"", driveId:"1ckKDAStKHoNhaSMDmuzAa0iMY4I69QyA", category:"Ação", year:2017, relevance:85, duration:"2h 17m" }
];

/* ================= HELPERS ================= */
const main = document.getElementById('mainContent');
const hero = document.getElementById('hero');
const heroTitle = document.getElementById('heroTitle');
const heroDesc = document.getElementById('heroDesc');
const heroPlay = document.getElementById('heroPlay');
const heroInfo = document.getElementById('heroInfo');
const heroThumb = document.getElementById('heroThumb');

function drivePreview(id){ return id ? `https://drive.google.com/file/d/${encodeURIComponent(id)}/preview` : ''; }
function pickRandom(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

const grouped = movies.reduce((acc,m)=>{ if(!acc[m.category]) acc[m.category]=[]; acc[m.category].push(m); return acc; },{});
const order = ['Animação','Ação','Comédia','Aventura','Romance','Terror','Outros'];

function renderSections(){
  main.innerHTML = '';
  for(const key of order){
    const list = grouped[key];
    if(!list || list.length===0) continue;
    main.appendChild(createSection(key, list));
  }
}

function createSection(title,list){
  const section = document.createElement('section');
  section.className='section';
  const h = document.createElement('h2'); h.textContent = title;
  section.appendChild(h);
  const row = document.createElement('div'); row.className='row';
  list.forEach(item=>{
    const c = document.createElement('div'); c.className='card';
    c.innerHTML = `<img src="${item.poster}" alt="${escapeHtml(item.title)}">`;
    c.addEventListener('click', ()=> openInfo(item));
    row.appendChild(c);
  });
  section.appendChild(row);
  return section;
}

function escapeHtml(str){ return (str+'').replace(/[&<>"']/g, function(m){ return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]; }); }

/* HERO */
let currentHero = null;
function renderHero(){
  const chosen = pickRandom(movies);
  currentHero = chosen;
  hero.style.backgroundImage = chosen.backdrop ? `url('${chosen.backdrop}')` : `url('${chosen.poster}')`;
  heroThumb.src = chosen.poster || '';
  heroTitle.textContent = chosen.title || '';
  heroDesc.textContent = chosen.description || '';
  heroPlay.style.display = chosen.driveId ? 'inline-block' : 'none';
  heroInfo.style.display = 'inline-block';
  heroPlay.onclick = ()=> openPlayer(chosen.driveId);
  heroInfo.onclick = ()=> openInfo(chosen);
}

/* INFO MODAL */
const infoModal = document.getElementById('infoModal');
const infoCard = document.getElementById('infoCard');
const infoPoster = document.getElementById('infoPoster');
const infoTitle = document.getElementById('infoTitle');
const infoCategory = document.getElementById('infoCategory');
const infoDesc = document.getElementById('infoDesc');
const infoPlay = document.getElementById('infoPlay');
const infoList = document.getElementById('infoList');
const infoMore = document.getElementById('infoMore');
const infoClose = document.getElementById('infoClose');
const infoDetails = document.getElementById('infoDetails');

function openInfo(movie){
  infoPoster.style.backgroundImage = `url('${movie.poster}')`;
  infoTitle.textContent = movie.title;
  infoCategory.textContent = `${movie.category} • ${movie.year}`;
  infoDesc.textContent = movie.description;
  infoPlay.onclick = ()=> openPlayer(movie.driveId);
  infoDetails.textContent = `Relevância: ${movie.relevance}% • Duração: ${movie.duration}`;
  infoModal.style.display = 'flex';
  setTimeout(()=>infoCard.classList.add('show'), 10);
}

infoClose.onclick = ()=> closeInfo();
infoModal.onclick = e => { if(e.target === infoModal) closeInfo(); };
function closeInfo(){
  infoCard.classList.remove('show');
  setTimeout(()=> infoModal.style.display='none', 220);
}

/* PLAYER MODAL */
const playerModal = document.getElementById('playerModal');
const playerFrame = document.getElementById('playerFrame');
const closePlayer = document.getElementById('closePlayer');

function openPlayer(driveId){
  if(!driveId) return;
  playerFrame.src = drivePreview(driveId);
  playerModal.style.display = 'flex';
}

closePlayer.onclick = ()=> closePlayerModal();
playerModal.onclick = e => { if(e.target === playerModal) closePlayerModal(); };

function closePlayerModal(){
  playerFrame.src='';
  playerModal.style.display='none';
}

/* ================= INIT ================= */
renderSections();
renderHero();
</script>
</body>
</html>
