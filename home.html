<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title></title>

<style>
    body {
        margin: 0;
        background: #000;
        color: #fff;
        font-family: Arial;
    }
  
    #topbar {
        width: 100%;
        padding: 20px;
        font-size: 32px;
        font-weight: bold;
        color: red;
        letter-spacing: 2px;
    }

    #banner {
        width: 100%;
        height: 60vh;
        background-size: cover;
        background-position: center;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        padding: 40px;
        box-shadow: inset 0px -200px 200px rgba(0,0,0,0.7);
    }

    #banner h1 { font-size: 45px; margin: 0; }
    #banner p { width: 45%; opacity: 0.9; }

    
    .row { padding: 20px; }
    .row h2 { margin-left: 10px; }
    .cards { display: flex; gap: 12px; overflow-x: auto; }

    .card {
        width: 160px;
        height: 240px;
        background-size: cover;
        background-position: center;
        border-radius: 6px;
        cursor: pointer;
        flex-shrink: 0;
    }

    #infoModal, #playerModal {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        display: none;
        background: rgba(0,0,0,.8);
        justify-content: center;
        align-items: center;
    }

    #infoBox {
        width: 80%;
        max-width: 900px;
        background: #111;
        padding: 20px;
        border-radius: 10px;
        position: relative;
    }

    .closeBtn {
        position: absolute;
        right: 20px;
        top: 20px;
        font-size: 28px;
        cursor: pointer;
    }

    #infoPoster {
        width: 100%;
        height: 300px;
        background-size: cover;
        border-radius: 10px;
        margin-bottom: 20px;
    }

    #infoBox button {
        background: red;
        border: none;
        padding: 12px 20px;
        margin-top: 10px;
        cursor: pointer;
        color: #fff;
        border-radius: 5px;
    }

    #playerContent {
        width: 80%;
        max-width: 900px;
        background: #000;
        border-radius: 10px;
        overflow: hidden;
    }

    #playerFrame {
        width: 100%;
        height: 500px;
        border: none;
    }
</style>

</head>
<body>

<div id="topbar">MEUFLIX</div>
<div id="banner">
    <h1 id="bannerTitle"></h1>
    <p id="bannerDesc"></p>
</div>

<div id="categories"></div>

<div id="infoModal">
    <div id="infoBox">
        <div class="closeBtn" onclick="closeInfo()">✖</div>
        <div id="infoPoster"></div>
        <h1 id="infoTitle"></h1>
        <p id="infoDesc"></p>
        <button id="watchBtn">ASSISTIR</button>
    </div>
</div>
  
<div id="playerModal">
    <div class="closeBtn" onclick="closePlayer()">✖</div>
    <div id="playerContent">
        <iframe id="playerFrame"></iframe>
    </div>
</div>

<script>

const movies = [
    {
        title: "Homem-Aranha",
        description: "Peter Parker ganha poderes e enfrenta o Duende Verde.",
        poster: "URL_CAPA",
        backdrop: "URL_BACKDROP",
        driveId: "ID_DRIVE",
        category: "Ação"
    },
    {
        title: "Divertida Mente",
        description: "As emoções dentro da mente de uma garota ganham vida.",
        poster: "URL_CAPA",
        backdrop: "URL_BACKDROP",
        driveId: "ID_DRIVE",
        category: "Animação"
    }
];


const categoriesDiv = document.getElementById("categories");
let categories = {};

movies.forEach(m => {
    if (!categories[m.category]) categories[m.category] = [];
    categories[m.category].push(m);
});

Object.keys(categories).forEach(cat => {
    const row = document.createElement("div");
    row.className = "row";

    row.innerHTML = `<h2>${cat}</h2><div class='cards'></div>`;

    const container = row.querySelector(".cards");

    categories[cat].forEach((m, i) => {
        const card = document.createElement("div");
        card.className = "card";
        card.style.backgroundImage = `url('${m.poster}')`;
        card.onclick = () => openInfo(m);
        container.appendChild(card);
    });

    categoriesDiv.appendChild(row);
});

function openInfo(m){
    document.getElementById("infoPoster").style.backgroundImage = `url('${m.backdrop}')`;
    document.getElementById("infoTitle").textContent = m.title;
    document.getElementById("infoDesc").textContent = m.description;

    document.getElementById("watchBtn").onclick = () => openPlayer(m.driveId);

    document.getElementById("infoModal").style.display = "flex";
}

function closeInfo() {
    document.getElementById("infoModal").style.display = "none";
}
  
function openPlayer(id){
    document.getElementById("playerFrame").src =
        `https://drive.google.com/file/d/${id}/preview`;
    document.getElementById("playerModal").style.display = "flex";
}

function closePlayer(){
    document.getElementById("playerModal").style.display = "none";
    document.getElementById("playerFrame").src = "";
}
  
function changeBanner(){
    const m = movies[Math.floor(Math.random() * movies.length)];
    document.getElementById("banner").style.backgroundImage = `url('${m.backdrop}')`;
    document.getElementById("bannerTitle").textContent = m.title;
    document.getElementById("bannerDesc").textContent = m.description;
}

changeBanner();
setInterval(changeBanner, 30000);

</script>

</body>
</html>
